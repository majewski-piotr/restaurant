<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dziękujemy za zamówienie!</title>
    <link rel="stylesheet" href="https://igoradamenko.github.io/awsm.css/css/awsm.min.css">
</head>
<body>
<main>
    <nav>
        <button id="menu">Menu</button>
        <button id="orderHistory">Historia zamówień</button>
    </nav>
    <h3>Dziękujemy za zamówienie!</h3>
    <p>Twoje produkty:</p>
    <ul id="zakupy"></ul>
    <p id="koszt">Koszt całkowity: </p>
    <p id="time">Szacowany czas dostawy: </p>
</main>
<script>
    const orderHistoryButton = document.getElementById("orderHistory");
    orderHistoryButton.addEventListener('click', event =>{
        const win = window.open("orderHistory.html", '_blank');
        win.focus();
    });
    const menuButton = document.getElementById("menu");
    menuButton.addEventListener('click', event =>{
        const win = window.open("index.html", '_blank');
        win.focus();
    });
    let commitedOrder = JSON.parse(window.localStorage.getItem("commitedOrder"));
    (function (){


        commitedOrder.boughtPositions.forEach(element => {
            const pozycja = document.createElement("LABEL");
            pozycja.innerHTML = `<p>${element.name}: ${element.quantity} x ${element.cost}zł</p>`
            zakupy.appendChild(pozycja);
        })
        const faktycznyKoszt = document.createElement('LABEL');
        faktycznyKoszt.innerHTML = `<label> ${commitedOrder.cost}zł</label>`;
        koszt.appendChild(faktycznyKoszt);

        const faktycznyCzas = document.createElement("LABEL");
        faktycznyCzas.innerHTML = `<label> ${commitedOrder.commitedTime}</label>`;
        time.appendChild(faktycznyCzas);
    }())
</script>
</body>
</html>